<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="762px" preserveAspectRatio="none" style="width:1173px;height:762px;background:#FEFEFE;" version="1.1" viewBox="0 0 1173 762" width="1173px" zoomAndPan="magnify"><title>VocalBridge Ops &#8212; Simplified Canonical Architecture</title><defs/><g><rect fill="#FEFEFE" height="762" style="stroke:none;stroke-width:1;" width="1173" x="0" y="0"/><g class="title" data-source-line="8"><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="650.751" x="256.8745" y="37.1182">VocalBridge Ops &#8212; Simplified Canonical Architecture</text></g><!--cluster API Gateway--><g class="cluster" data-entity="API Gateway" data-source-line="18" data-uid="ent0003" id="cluster_API Gateway"><path d="M730,275.1173 L811.2334,275.1173 A3.75,3.75 0 0 1 813.7334,277.6173 L820.7334,294.486 L990,294.486 A2.5,2.5 0 0 1 992.5,296.986 L992.5,477.4073 A2.5,2.5 0 0 1 990,479.9073 L730,479.9073 A2.5,2.5 0 0 1 727.5,477.4073 L727.5,277.6173 A2.5,2.5 0 0 1 730,275.1173" fill="#E3F2FD" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="727.5" x2="820.7334" y1="294.486" y2="294.486"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80.2334" x="731.5" y="288.1764">API Gateway</text></g><!--cluster Core Runtime--><g class="cluster" data-entity="Core Runtime" data-source-line="26" data-uid="ent0006" id="cluster_Core Runtime"><path d="M428,115.2473 L513.0361,115.2473 A3.75,3.75 0 0 1 515.5361,117.7473 L522.5361,134.616 L595,134.616 A2.5,2.5 0 0 1 597.5,137.116 L597.5,477.4073 A2.5,2.5 0 0 1 595,479.9073 L428,479.9073 A2.5,2.5 0 0 1 425.5,477.4073 L425.5,117.7473 A2.5,2.5 0 0 1 428,115.2473" fill="#E8F5E9" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="425.5" x2="522.5361" y1="134.616" y2="134.616"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="84.0361" x="429.5" y="128.3064">Core Runtime</text></g><!--cluster AI Providers--><g class="cluster" data-entity="AI Providers" data-source-line="35" data-uid="ent0010" id="cluster_AI Providers"><path d="M342.1205,550.5196 C346.5847,543.8606 352.342,543.6358 357.38,549.8389 C361.3042,543.5837 366.4379,542.3124 370.8678,549.3249 C374.6246,543.2505 380.9701,542.2821 384.4431,549.6124 C388.1124,542.9839 394.1225,544.0123 397.5037,549.9126 C400.8016,543.5061 406.0217,543.4571 410.4463,548.656 C415.5007,541.7138 420.9726,542.4216 425.8251,548.8876 C429.2217,541.5307 433.6007,541.1921 439.1795,546.6057 C444.4559,539.4604 448.994,540.9369 453.8018,547.1198 C457.3756,542.3853 463.1401,542.6524 465.7511,548.2348 C470.2097,540.3253 476.8906,541.2788 481.1694,548.4191 C485.4932,542.9958 491.0421,544.9824 493.4616,550.549 C498.1978,543.9004 503.9205,544.9304 508.1501,551.1281 C512.3744,546.0134 517.805,544.893 521.3441,551.8754 C524.8776,545.598 531.5708,544.1239 535.3968,551.576 C542.6653,553.7964 544.8096,561.3087 539.3619,566.8337 C548.8333,570.9281 548.9671,578.8188 541.8086,585.1363 C547.441,590.9777 546.2768,597.78 538.7769,601.1325 C545.9037,607.5814 543.2381,615.0421 534.2464,616.8428 C530.6966,623.7619 526.283,622.9919 521.8647,617.7253 C519.2622,625.1387 513.3848,626.0618 508.2787,620.3085 C503.946,627.7201 498.51,628.0652 493.7103,620.7711 C491.6124,627.1296 486.0327,630.1947 480.5392,624.4734 C476.1565,630.9311 471.3098,630.1607 466.825,624.5898 C463.7742,632.6055 456.3538,632.8788 451.4686,626.5541 C448.2613,632.7613 443.1767,632.3516 439.2903,627.2878 C435.1798,633.8501 428.9785,632.0995 426.332,625.8114 C421.6359,632.4055 416.4673,632.2846 412.3033,625.2632 C407.2052,631.8314 401.1619,630.9481 397.7066,623.5466 C393.0527,630.0448 387.8309,627.9338 384.6113,622.032 C379.5932,628.078 374.0725,628.4612 370.4268,620.6293 C365.4546,626.2392 361.0948,625.415 357.1768,619.4251 C351.5845,624.3688 346.4209,624.1404 343.2945,616.668 C335.0219,613.7984 333.3476,608.5933 339.0074,601.7262 C330.1333,598.2016 330.4811,591.3884 336.742,585.7215 C329.2045,578.7157 331.5659,572.2642 340.3091,568.6628 C332.8735,562.0707 331.6389,555.3228 342.1205,550.5196" fill="#F3E5F5" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77.2847" x="398.8577" y="566.5164">AI Providers</text></g><!--cluster Async Processing--><g class="cluster" data-entity="Async Processing" data-source-line="43" data-uid="ent0013" id="cluster_Async Processing"><path d="M125,275.1173 L233.4917,275.1173 A3.75,3.75 0 0 1 235.9917,277.6173 L242.9917,294.486 L243,294.486 A2.5,2.5 0 0 1 245.5,296.986 L245.5,477.4073 A2.5,2.5 0 0 1 243,479.9073 L125,479.9073 A2.5,2.5 0 0 1 122.5,477.4073 L122.5,277.6173 A2.5,2.5 0 0 1 125,275.1173" fill="#FFF9C4" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="122.5" x2="242.9917" y1="294.486" y2="294.486"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107.4917" x="126.5" y="288.1764">Async Processing</text></g><!--cluster Billing & Metering--><g class="cluster" data-entity="Billing . Metering" data-source-line="51" data-uid="ent0016" id="cluster_Billing . Metering"><path d="M1043,115.2473 L1154.752,115.2473 A3.75,3.75 0 0 1 1157.252,117.7473 L1164.252,134.616 L1164,134.616 A2.5,2.5 0 0 1 1166.5,137.116 L1166.5,194.1173 A2.5,2.5 0 0 1 1164,196.6173 L1043,196.6173 A2.5,2.5 0 0 1 1040.5,194.1173 L1040.5,117.7473 A2.5,2.5 0 0 1 1043,115.2473" fill="#FFEBEE" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1040.5" x2="1164.252" y1="134.616" y2="134.616"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110.752" x="1044.5" y="128.3064">Billing &amp; Metering</text></g><!--entity API--><g class="entity" data-entity="API" data-source-line="19" data-uid="ent0004" id="entity_API"><rect fill="#FFFFFF" height="33.3687" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="79.0391" x="764.98" y="307.1173"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="59.0391" x="774.98" y="328.1764">Fastify API</text></g><!--entity Auth--><g class="entity" data-entity="Auth" data-source-line="20" data-uid="ent0005" id="entity_Auth"><rect fill="#FFFFFF" height="33.3687" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="150.9473" x="746.02" y="430.5373"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="130.9473" x="756.02" y="451.5964">Auth &amp; Tenant Resolver</text></g><!--entity MessageSvc--><g class="entity" data-entity="MessageSvc" data-source-line="27" data-uid="ent0007" id="entity_MessageSvc"><rect fill="#FFFFFF" height="33.3687" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="111.7437" x="441.62" y="147.2473"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="91.7437" x="451.62" y="168.3064">Message Service</text></g><!--entity AgentSvc--><g class="entity" data-entity="AgentSvc" data-source-line="28" data-uid="ent0008" id="entity_AgentSvc"><rect fill="#FFFFFF" height="33.3687" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.2637" x="460.36" y="307.1173"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="82.2637" x="470.36" y="328.1764">Agent Runtime</text></g><!--entity Orchestrator--><g class="entity" data-entity="Orchestrator" data-source-line="29" data-uid="ent0009" id="entity_Orchestrator"><rect fill="#FFFFFF" height="33.3687" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="139.1685" x="441.91" y="430.5373"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="119.1685" x="451.91" y="451.5964">Provider Orchestrator</text></g><!--entity VendorA--><g class="entity" data-entity="VendorA" data-source-line="36" data-uid="ent0011" id="entity_VendorA"><rect fill="#FFFFFF" height="33.3687" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="70.644" x="455.17" y="574.4573"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="50.644" x="465.17" y="595.5164">Vendor A</text></g><!--entity VendorB--><g class="entity" data-entity="VendorB" data-source-line="37" data-uid="ent0012" id="entity_VendorB"><rect fill="#FFFFFF" height="33.3687" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="70.6655" x="349.16" y="574.4573"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="50.6655" x="359.16" y="595.5164">Vendor B</text></g><!--entity Job Queue--><g class="entity" data-entity="Job Queue" data-source-line="44" data-uid="ent0014" id="entity_Job Queue"><rect fill="#FFFFFF" height="33.3687" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="78.083" x="151.45" y="307.1173"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="58.083" x="161.45" y="328.1764">Job Queue</text></g><!--entity Worker--><g class="entity" data-entity="Worker" data-source-line="45" data-uid="ent0015" id="entity_Worker"><rect fill="#FFFFFF" height="33.3687" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="60.0039" x="160.49" y="430.5373"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="40.0039" x="170.49" y="451.5964">Worker</text></g><!--entity Usage Meter--><g class="entity" data-entity="Usage Meter" data-source-line="52" data-uid="ent0017" id="entity_Usage Meter"><rect fill="#FFFFFF" height="33.3687" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="89.0669" x="1057.96" y="147.2473"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="69.0669" x="1067.96" y="168.3064">Usage Meter</text></g><!--entity Client--><g class="entity" data-entity="Client" data-source-line="13" data-uid="ent0002" id="entity_Client"><ellipse cx="824.493" cy="135.7473" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M824.493,143.7473 L824.493,170.7473 M811.493,151.7473 L837.493,151.7473 M824.493,170.7473 L811.493,185.7473 M824.493,170.7473 L837.493,185.7473" fill="none" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="31.5659" x="808.71" y="198.8064">Client</text></g><!--entity DB--><g class="entity" data-entity="DB" data-source-line="58" data-uid="ent0018" id="entity_DB"><path d="M470.61,713.3273 C470.61,703.3273 512.4982,703.3273 512.4982,703.3273 C512.4982,703.3273 554.3864,703.3273 554.3864,713.3273 L554.3864,735.696 C554.3864,745.696 512.4982,745.696 512.4982,745.696 C512.4982,745.696 470.61,745.696 470.61,735.696 L470.61,713.3273" fill="#ECEFF1" style="stroke:#000000;stroke-width:1;"/><path d="M470.61,713.3273 C470.61,723.3273 512.4982,723.3273 512.4982,723.3273 C512.4982,723.3273 554.3864,723.3273 554.3864,713.3273" fill="none" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="63.7764" x="480.61" y="738.3864">PostgreSQL</text></g><!--entity UsageMeter--><g class="entity" data-entity="UsageMeter" data-source-line="74" data-uid="ent0027" id="entity_UsageMeter"><ellipse cx="593.4999" cy="562.9573" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1;"/><path d="M593.4999,570.9573 L593.4999,597.9573 M580.4999,578.9573 L606.4999,578.9573 M593.4999,597.9573 L580.4999,612.9573 M593.4999,597.9573 L606.4999,612.9573" fill="none" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="65.1997" x="560.9" y="626.0164">UsageMeter</text></g><g class="entity" data-entity="GMN40" data-source-line="100" data-uid="ent0041" id="entity_GMN40"><path d="M1008.83,415.4873 L1008.83,478.9619 L1158.1669,478.9619 L1158.1669,425.4873 L1148.1669,415.4873 L1008.83,415.4873" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1148.1669,415.4873 L1148.1669,425.4873 L1158.1669,425.4873 L1148.1669,415.4873" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="94.1499" x="1014.83" y="431.5464">Execution Policy:</text><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="110.7681" x="1014.83" y="444.915">&#8226; Retry with backoff</text><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="101.5781" x="1014.83" y="458.2837">&#8226; Provider fallback</text><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="128.3369" x="1014.83" y="471.6523">&#8226; Timeout enforcement</text></g><g class="entity" data-entity="GMN43" data-source-line="107" data-uid="ent0044" id="entity_GMN43"><path d="M875.71,132.1973 L875.71,195.6719 L1023.2852,195.6719 L1023.2852,142.1973 L1013.2852,132.1973 L875.71,132.1973" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1013.2852,132.1973 L1013.2852,142.1973 L1023.2852,142.1973 L1013.2852,132.1973" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="89.7134" x="881.71" y="148.2564">Responsibilities:</text><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="82.2207" x="881.71" y="161.625">&#8226; Idempotency</text><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="94.6924" x="881.71" y="174.9937">&#8226; Session locking</text><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="126.5752" x="881.71" y="188.3623">&#8226; Request coordination</text></g><!--link Client to API--><g class="link" data-entity-1="Client" data-entity-2="API" data-source-line="63" data-uid="lnk19" id="link_Client_API"><path d="M819.86,201.5473 C815.63,234.8873 810.3544,276.5649 807.2544,301.0249" fill="none" id="Client-to-API" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="806.5,306.9773,811.5998,298.5517,807.1287,302.017,803.6633,297.5458,806.5,306.9773" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="67.2837" x="816.69" y="243.1764">API Request</text><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="66.9829" x="816.8404" y="256.545">(X-API-Key)</text></g><!--link API to Client--><g class="link" data-entity-1="API" data-entity-2="Client" data-source-line="78" data-uid="lnk31" id="link_API_Client"><path d="M840.71,306.8373 C859.86,296.2873 881.6,280.4473 892.5,259.1173 C898.16,248.0373 897.96,242.2973 892.5,231.1173 C884.09,213.8973 872.35,217.8473 858.5,204.6173 C852.33,198.7273 849.9692,196.4031 844.5692,190.0031" fill="none" id="API-to-Client" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="840.7,185.4173,843.4467,194.8754,843.9244,189.2388,849.561,189.7164,840.7,185.4173" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="82.5" x="897.67" y="249.6764">Final Response</text></g><!--link API to Auth--><g class="link" data-entity-1="API" data-entity-2="Auth" data-source-line="64" data-uid="lnk20" id="link_API_Auth"><path d="M789.22,340.8373 C779.72,352.8173 770.22,369.7673 775.5,385.4873 C781.31,402.7873 790.1103,414.7157 800.7803,426.0657" fill="none" id="API-to-Auth" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="804.89,430.4373,801.6399,421.1402,801.4653,426.7943,795.8111,426.6197,804.89,430.4373" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="69.8672" x="776.5" y="382.5464">Authenticate</text></g><!--link Auth to API--><g class="link" data-entity-1="Auth" data-entity-2="API" data-source-line="65" data-uid="lnk21" id="link_Auth_API"><path d="M834.96,430.1573 C846.16,414.7573 858.99,390.8973 850.5,370.4873 C845.65,358.8473 840.7874,352.5616 831.7374,344.7716" fill="none" id="Auth-to-API" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="827.19,340.8573,831.4016,349.7603,830.9795,344.1192,836.6206,343.6971,827.19,340.8573" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="85.1104" x="854.25" y="382.5464">Tenant Context</text></g><!--link API to MessageSvc--><g class="link" data-entity-1="API" data-entity-2="MessageSvc" data-source-line="67" data-uid="lnk22" id="link_API_MessageSvc"><path d="M764.86,316.7173 C720.65,308.6473 648.15,291.4773 593.5,259.1173 C575.11,248.2373 538.0115,209.1937 516.0415,185.3037" fill="none" id="API-to-MessageSvc" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="511.98,180.8873,515.1279,190.2195,515.3645,184.5676,521.0165,184.8043,511.98,180.8873" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="92.9146" x="594.5" y="249.6764">Process Message</text></g><!--link MessageSvc to API--><g class="link" data-entity-1="MessageSvc" data-entity-2="API" data-source-line="77" data-uid="lnk30" id="link_MessageSvc_API"><path d="M553.61,178.4173 C593.58,189.3473 647.74,206.9173 691.5,231.1173 C729.74,252.2673 763.5934,282.5296 784.3134,302.6296" fill="none" id="MessageSvc-to-API" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="788.62,306.8073,784.9453,297.6697,785.0312,303.3259,779.375,303.4118,788.62,306.8073" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="52.7065" x="732.43" y="249.6764">Response</text></g><!--link MessageSvc to AgentSvc--><g class="link" data-entity-1="MessageSvc" data-entity-2="AgentSvc" data-source-line="68" data-uid="lnk23" id="link_MessageSvc_AgentSvc"><path d="M488.27,180.9773 C478.65,199.7673 465.96,231.7873 473.5,259.1173 C478.35,276.7373 485.9608,289.5696 494.9408,301.8096" fill="none" id="MessageSvc-to-AgentSvc" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="498.49,306.6473,496.3913,297.0247,495.5323,302.6159,489.9411,301.7569,498.49,306.6473" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="78.7778" x="474.5" y="249.6764">Resolve Agent</text></g><!--link AgentSvc to Orchestrator--><g class="link" data-entity-1="AgentSvc" data-entity-2="Orchestrator" data-source-line="69" data-uid="lnk24" id="link_AgentSvc_Orchestrator"><path d="M511.5,340.9273 C511.5,364.2773 511.5,401.2473 511.5,424.4173" fill="none" id="AgentSvc-to-Orchestrator" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="511.5,430.4173,515.5,421.4173,511.5,425.4173,507.5,421.4173,511.5,430.4173" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="43.5972" x="512.5" y="382.5464">Execute</text></g><!--link Orchestrator to VendorA--><g class="link" data-entity-1="Orchestrator" data-entity-2="VendorA" data-source-line="71" data-uid="lnk25" id="link_Orchestrator_VendorA"><path d="M495.96,464.2073 C485.97,475.6473 473.9,491.9673 468.5,508.9573 C461.37,531.3673 469.0811,552.406 477.8811,568.866" fill="none" id="Orchestrator-to-VendorA" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="480.71,574.1573,479.9942,564.3345,478.3526,569.7479,472.9392,568.1063,480.71,574.1573" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="42.856" x="469.5" y="521.0164">Primary</text></g><!--link Orchestrator to VendorB--><g class="link" data-entity-1="Orchestrator" data-entity-2="VendorB" data-source-line="72" data-uid="lnk26" id="link_Orchestrator_VendorB"><path d="M472.65,464.2173 C452.25,474.3573 428.27,489.3073 412.5,508.9573 C397,528.2573 390.8811,550.7601 387.7511,568.3501" fill="none" id="Orchestrator-to-VendorB" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="386.7,574.2573,392.2148,566.0973,387.576,569.3346,384.3386,564.6957,386.7,574.2573" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="44.666" x="413.5" y="521.0164">Fallback</text></g><!--link Orchestrator to UsageMeter--><g class="link" data-entity-1="Orchestrator" data-entity-2="UsageMeter" data-source-line="74" data-uid="lnk28" id="link_Orchestrator_UsageMeter"><path d="M519.87,464.3273 C527.97,479.7673 540.72,503.6473 552.5,523.9573 C558.12,533.6673 561.2521,538.9356 567.1821,548.5156" fill="none" id="Orchestrator-to-UsageMeter" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="570.34,553.6173,569.0042,543.8595,567.7084,549.3659,562.2019,548.07,570.34,553.6173" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="96.3574" x="553.5" y="521.0164">Emit usage event</text></g><!--link UsageMeter to DB--><g class="link" data-entity-1="UsageMeter" data-entity-2="DB" data-source-line="75" data-uid="lnk29" id="link_UsageMeter_DB"><path d="M560.41,620.5673 C554.39,624.7973 547.96,628.7573 541.5,631.8273 C495.67,653.5773 461.92,618.5173 430.5,658.3273 C414.21,678.9573 436.9252,694.7035 464.5952,706.5635" fill="none" id="UsageMeter-to-DB" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="470.11,708.9273,463.4137,701.7052,465.5144,706.9575,460.262,709.0582,470.11,708.9273" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="117.2349" x="431.5" y="670.3864">Append usage record</text></g><!--link UsageMeter to DB--><g class="link" data-entity-1="UsageMeter" data-entity-2="DB" data-source-line="94" data-uid="lnk39" id="link_UsageMeter_DB"><path d="M577.67,628.6673 C570.91,642.9973 562.5,659.3173 553.5,673.3273 C546.92,683.5473 542.481,689.5015 535.051,698.2615" fill="none" id="UsageMeter-to-DB-1" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="531.17,702.8373,540.0421,698.561,534.4042,699.0242,533.941,693.3863,531.17,702.8373" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="76.3394" x="563.39" y="670.3864">usage_events</text></g><!--link MessageSvc to Job Queue--><g class="link" data-entity-1="MessageSvc" data-entity-2="Job Queue" data-source-line="83" data-uid="lnk32" id="link_MessageSvc_Job Queue"><path d="M441.26,167.8773 C356.29,173.6273 201.47,189.6473 167.5,231.1173 C149.61,252.9473 162.8973,281.7891 175.6673,301.6691" fill="none" id="MessageSvc-to-Job Queue" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="178.91,306.7173,177.4114,296.9831,176.2077,302.5105,170.6804,301.3068,178.91,306.7173" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="101.0679" x="168.5" y="249.6764">Long-running task</text></g><!--link Job Queue to Worker--><g class="link" data-entity-1="Job Queue" data-entity-2="Worker" data-source-line="84" data-uid="lnk33" id="link_Job Queue_Worker"><path d="M190.5,340.9273 C190.5,364.2773 190.5,401.2473 190.5,424.4173" fill="none" id="Job Queue-to-Worker" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="190.5,430.4173,194.5,421.4173,190.5,425.4173,186.5,421.4173,190.5,430.4173" style="stroke:#000000;stroke-width:1;"/></g><!--link Worker to MessageSvc--><g class="link" data-entity-1="Worker" data-entity-2="MessageSvc" data-source-line="85" data-uid="lnk34" id="link_Worker_MessageSvc"><path d="M160.21,436.3273 C121.99,422.0173 57.93,391.5073 30.5,340.4873 C15.05,311.7673 11,293.2573 30.5,267.1173 C79.24,201.7473 322.3157,176.9605 435.4557,168.7705" fill="none" id="Worker-to-MessageSvc" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="441.44,168.3373,432.1747,164.9975,436.453,168.6983,432.7523,172.9767,441.44,168.3373" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="101.3096" x="31.5" y="328.3564">Resume execution</text></g><!--link Auth to DB--><g class="link" data-entity-1="Auth" data-entity-2="DB" data-source-line="90" data-uid="lnk35" id="link_Auth_DB"><path d="M819.13,464.1773 C812.14,505.5473 787.57,616.9573 719.5,673.3273 C672.5,712.2373 606.0847,721.5859 560.5447,723.4959" fill="none" id="Auth-to-DB" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="554.55,723.7473,563.7097,727.3667,559.5456,723.5378,563.3745,719.3737,554.55,723.7473" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="41.481" x="803.22" y="595.7064">tenants</text></g><!--link AgentSvc to DB--><g class="link" data-entity-1="AgentSvc" data-entity-2="DB" data-source-line="91" data-uid="lnk36" id="link_AgentSvc_DB"><path d="M532.03,340.7773 C542.26,349.1473 554.52,359.8473 564.5,370.4873 C614.7,424.0273 634.93,438.2173 654.5,508.9573 C667.91,557.4473 773.89,500.8873 648.5,673.3273 C626.96,702.9473 591.8958,714.1666 560.5258,719.1466" fill="none" id="AgentSvc-to-DB" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="554.6,720.0873,564.1158,722.6268,559.5382,719.3034,562.8615,714.7257,554.6,720.0873" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="37.0391" x="665.53" y="521.0164">agents</text></g><!--link MessageSvc to DB--><g class="link" data-entity-1="MessageSvc" data-entity-2="DB" data-source-line="92" data-uid="lnk37" id="link_MessageSvc_DB"><path d="M444.16,181.0673 C384.61,202.7673 296.5,247.5873 296.5,322.7973 C296.5,322.7973 296.5,322.7973 296.5,592.1473 C296.5,672.6873 401.5863,704.1331 464.4463,716.1231" fill="none" id="MessageSvc-to-DB" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="470.34,717.2473,462.2488,711.6319,465.4285,716.3105,460.7499,719.4902,470.34,717.2473" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="108.4585" x="297.5" y="451.7864">sessions, messages</text></g><!--link Worker to DB--><g class="link" data-entity-1="Worker" data-entity-2="DB" data-source-line="93" data-uid="lnk38" id="link_Worker_DB"><path d="M190.47,464.3473 C191.37,507.1473 200.45,623.6873 270.5,673.3273 C302.13,695.7473 403.7836,710.8049 464.3036,718.1449" fill="none" id="Worker-to-DB" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="470.26,718.8673,461.8071,713.8128,465.2964,718.2653,460.8439,721.7546,470.26,718.8673" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="23.0474" x="231.71" y="595.7064">jobs</text></g><!--link Orchestrator to GMN40--><g class="link" data-entity-1="Orchestrator" data-entity-2="GMN40" data-source-line="100" data-uid="lnk42" id="link_Orchestrator_GMN40"><path d="M551.03,430.1073 C632.03,397.4673 822.11,333.3573 975,377.9873 C1000.31,385.3773 1025.34,400.6573 1044.97,414.9973" fill="none" id="Orchestrator-GMN40" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link GMN43 to MessageSvc--><g class="link" data-entity-1="GMN43" data-entity-2="MessageSvc" data-source-line="107" data-uid="lnk45" id="link_GMN43_MessageSvc"><path d="M912.24,131.7073 C892.25,116.5473 866.34,100.1073 840,92.2473 C727.64,58.7373 590.03,116.4973 529.1,146.9573" fill="none" id="GMN43-MessageSvc" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--SRC=[jLVlRjis4F-kfxYvGDS2SuUi2x06s01PbZ9lZkLQJh810mPQEjbSQD8bAQTUKQ0FiIVOe_L9TgHaHt6wRvODMD3TZqVUZ_VFNzaLhX4sWd4Pc3ikDqopDInOVhVKgf95f8JIy2o9tRU5AB1abR29aZRZVoESdRMKPiKATS_b4aec3BOqkLflb4HQP7S2GMDkcLmA30BBBGbkLCx4GFDYYP1k37p-z0zaVBqHlEHOGCIaafmW4EfynIqjhpGj_Xf-FE67p8NHF9sTsYpBBN4P2Kx-Tt3cU7WPmxSGJaUdjhsXS61q8pso3PVCuZtRzU1P_3hvBXd2Xm0UxXLw2JEMbpjtZXumuy_p211MTWNFOOwIqUiCZH9Rr3MMLC773hY9qbaCi-l9V7GLTyPEf3J2h9AMhz7HyqDo7hyvfkSAZN7e3FMMv-ZTRcJPDZzYQkaU1ukE82TvWfjgjUK5QaWfAz1OpIZGFBujw8JOwIoz6GtZMNPgqxbGLK4KZ63ldI5EazVnUN9-pEaDoe8oA_Gkro_X5n635cBG2HzXzliawYx_p4xcZf2S8eRggsCaITv4tnypyejQmDiAA-mzbjygVKUvredhWz5uF9fSKWcwpiBBxj9im8LmlUKvvOr5lQSX7iJnCGtNFjKyh1kVCseJ7VXQCCiMp92pKsNiKcFsTkn3TpYWkXB5INBMWJDNuMW2oJYzFRNfkkL1l_-JwmPmuNzd-AwYqlI7VF5Rdzxxl-BkPU0K7kPwn8L_q4hg-1O3BtkmqVIFY2OGV4_zTB_qePWIg4cLlJ1eARsbffmIikb3jIWuA1ogNKG96R_7lABp18_a3jYK7hylNpEz-p_8W2094yBDML-muyFMHwtRRiqjL3wGSUlErj8wyD0P2pSRCjp0QAfIkWYUEEjf8pyfEsWes_FLN0uTY4iQh0xwZcfZ9m5sv6ch_95VOoMNVLr9wOg6PUOkQEiTlgwAGVru6aH4IKL3ClfxvqfsGCqmd8UGtaweaVuyciABIKeZosG-IyUUhvUdtj7dqgjNJVHOdqhc8UeF6kOafitlGMLS2w98-GRMjTRi2Jn0_b8BqmxNWyB7wPy-d4q7R4xIUNpoWKGgIwd5boiBgdmyMCNxo82f4ZpVNGIVF_rBOMFr3kuvCUtoN9Mb5n-6jN9V09nqJXEUgYoWB9NEwJyP9RhBQBThKEyjiFHRjwR59bdvWWjkEPfwur61r07fKlETVy_gcmAXSleZjcmEvwilDKig5PJuFguF6_u7]--></g></svg>