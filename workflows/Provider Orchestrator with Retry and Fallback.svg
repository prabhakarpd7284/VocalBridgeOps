<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="3976px" preserveAspectRatio="none" style="width:1448px;height:3976px;background:#FEFEFE;" version="1.1" viewBox="0 0 1448 3976" width="1448px" zoomAndPan="magnify"><title>Provider Orchestrator - Retry Logic with Fallback</title><defs/><g><rect fill="#FEFEFE" height="3976" style="stroke:none;stroke-width:1;" width="1448" x="0" y="0"/><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="606.8691" x="419.4414" y="37.1182">Provider Orchestrator - Retry Logic with Fallback</text><rect fill="#FFFFFF" height="2350.1211" style="stroke:#000000;stroke-width:1;" width="1370.8579" x="15" y="393.7451"/><rect fill="#FFFFFF" height="2168.5259" style="stroke:#000000;stroke-width:1;" width="1350.8579" x="25" y="568.3403"/><rect fill="#FFFFFF" height="911.4834" style="stroke:none;stroke-width:1;" width="1350.8579" x="25" y="901.5308"/><rect fill="#FFFFFF" height="718.3188" style="stroke:#000000;stroke-width:1;" width="1330.8579" x="35" y="1087.6953"/><rect fill="#FFFFFF" height="549.7236" style="stroke:none;stroke-width:1;" width="1330.8579" x="35" y="1256.2905"/><rect fill="#FFFFFF" height="356.5591" style="stroke:#000000;stroke-width:1;" width="1310.8579" x="45" y="1442.4551"/><rect fill="#FFFFFF" height="187.9639" style="stroke:none;stroke-width:1;" width="1310.8579" x="45" y="1611.0503"/><rect fill="#FFFFFF" height="463.7271" style="stroke:none;stroke-width:1;" width="1350.8579" x="25" y="1813.0142"/><rect fill="#FFFFFF" height="286.3618" style="stroke:#000000;stroke-width:1;" width="1310.8579" x="45" y="1983.3794"/><rect fill="#FFFFFF" height="117.7666" style="stroke:none;stroke-width:1;" width="1310.8579" x="45" y="2151.9746"/><rect fill="#FFFFFF" height="210.7632" style="stroke:none;stroke-width:1;" width="1350.8579" x="25" y="2276.7412"/><rect fill="#FFFFFF" height="249.3618" style="stroke:none;stroke-width:1;" width="1350.8579" x="25" y="2487.5044"/><rect fill="#FFFFFF" height="499.355" style="stroke:#000000;stroke-width:1;" width="1310.8579" x="45" y="3024.8594"/><rect fill="#FFFFFF" height="181.9639" style="stroke:none;stroke-width:1;" width="1310.8579" x="45" y="3342.2505"/><g><title>Message Service</title><rect fill="#000000" fill-opacity="0.00000" height="3781.4487" width="8" x="126.3823" y="115.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="130" x2="130" y1="115.752" y2="3897.2007"/></g><g><title>Provider</title><rect fill="#000000" fill-opacity="0.00000" height="3781.4487" width="8" x="354.6943" y="115.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="358.3599" x2="358.3599" y1="115.752" y2="3897.2007"/></g><g><title>VendorA</title><rect fill="#000000" fill-opacity="0.00000" height="3781.4487" width="8" x="634.8198" y="115.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="638.0527" x2="638.0527" y1="115.752" y2="3897.2007"/></g><g><title>VendorB</title><rect fill="#000000" fill-opacity="0.00000" height="3781.4487" width="8" x="827.0938" y="115.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="830.313" x2="830.313" y1="115.752" y2="3897.2007"/></g><g><title>VendorA API</title><rect fill="#000000" fill-opacity="0.00000" height="3781.4487" width="8" x="1051.1187" y="115.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1054.938" x2="1054.938" y1="115.752" y2="3897.2007"/></g><g><title>VendorB API</title><rect fill="#000000" fill-opacity="0.00000" height="3781.4487" width="8" x="1183.4937" y="115.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1187.2993" x2="1187.2993" y1="115.752" y2="3897.2007"/></g><g><title>PostgreSQL</title><rect fill="#000000" fill-opacity="0.00000" height="3781.4487" width="8" x="1298.2729" y="115.752"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1301.688" x2="1301.688" y1="115.752" y2="3897.2007"/></g><g class="participant participant-head" data-participant="MS"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="130.7646" x="65" y="83.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116.7646" x="72" y="104.8125">Message Service</text></g><g class="participant participant-tail" data-participant="MS"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="130.7646" x="65" y="3896.2007"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116.7646" x="72" y="3917.2759">Message Service</text></g><g class="participant participant-head" data-participant="PO"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.6689" x="307.3599" y="66.7227"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58.0781" x="329.6553" y="87.7979">Provider</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.6689" x="314.3599" y="104.8125">Orchestrator</text></g><g class="participant participant-tail" data-participant="PO"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.6689" x="307.3599" y="3896.2007"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58.0781" x="329.6553" y="3917.2759">Provider</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.6689" x="314.3599" y="3934.2905">Orchestrator</text></g><g class="participant participant-head" data-participant="VA"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="73.5342" x="602.0527" y="66.7227"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59.5342" x="609.0527" y="87.7979">VendorA</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="55.2549" x="611.1924" y="104.8125">Adapter</text></g><g class="participant participant-tail" data-participant="VA"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="73.5342" x="602.0527" y="3896.2007"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59.5342" x="609.0527" y="3917.2759">VendorA</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="55.2549" x="611.1924" y="3934.2905">Adapter</text></g><g class="participant participant-head" data-participant="VB"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="73.5615" x="794.313" y="66.7227"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59.5615" x="801.313" y="87.7979">VendorB</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="55.2549" x="803.4663" y="104.8125">Adapter</text></g><g class="participant participant-tail" data-participant="VB"><rect fill="#FFFFFF" height="48.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="73.5615" x="794.313" y="3896.2007"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59.5615" x="801.313" y="3917.2759">VendorB</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="55.2549" x="803.4663" y="3934.2905">Adapter</text></g><g class="participant participant-head" data-participant="A"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.3613" x="1003.938" y="83.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.3613" x="1010.938" y="104.8125">VendorA API</text></g><g class="participant participant-tail" data-participant="A"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.3613" x="1003.938" y="3896.2007"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.3613" x="1010.938" y="3917.2759">VendorA API</text></g><g class="participant participant-head" data-participant="B"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.3887" x="1136.2993" y="83.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.3887" x="1143.2993" y="104.8125">VendorB API</text></g><g class="participant participant-tail" data-participant="B"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.3887" x="1136.2993" y="3896.2007"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.3887" x="1143.2993" y="3917.2759">VendorB API</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81.1699" x="1258.688" y="112.8125">PostgreSQL</text><path d="M1284.2729,62.7373 C1284.2729,52.7373 1302.2729,52.7373 1302.2729,52.7373 C1302.2729,52.7373 1320.2729,52.7373 1320.2729,62.7373 L1320.2729,88.7373 C1320.2729,98.7373 1302.2729,98.7373 1302.2729,98.7373 C1302.2729,98.7373 1284.2729,98.7373 1284.2729,88.7373 L1284.2729,62.7373" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1284.2729,62.7373 C1284.2729,72.7373 1302.2729,72.7373 1302.2729,72.7373 C1302.2729,72.7373 1320.2729,72.7373 1320.2729,62.7373" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81.1699" x="1258.688" y="3910.2759">PostgreSQL</text><path d="M1284.2729,3923.2153 C1284.2729,3913.2153 1302.2729,3913.2153 1302.2729,3913.2153 C1302.2729,3913.2153 1320.2729,3913.2153 1320.2729,3923.2153 L1320.2729,3949.2153 C1320.2729,3959.2153 1302.2729,3959.2153 1302.2729,3959.2153 C1302.2729,3959.2153 1284.2729,3959.2153 1284.2729,3949.2153 L1284.2729,3923.2153" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1284.2729,3923.2153 C1284.2729,3933.2153 1302.2729,3933.2153 1302.2729,3933.2153 C1302.2729,3933.2153 1320.2729,3933.2153 1320.2729,3923.2153" fill="none" style="stroke:#000000;stroke-width:1;"/></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1436.752" x="5" y="146.6516"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1441.752" y1="146.6516" y2="146.6516"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1441.752" y1="149.6516" y2="149.6516"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="99.9536" x="673.3992" y="135.752"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5103" x="679.3992" y="152.8218">Entry Point</text><g class="message" data-participant-1="MS" data-participant-2="PO"><polygon fill="#000000" points="346.6943,237.7485,356.6943,241.7485,346.6943,245.7485,350.6943,241.7485" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="130.3823" x2="352.6943" y1="241.7485" y2="241.7485"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="204.312" x="137.3823" y="221.2197">sendMessage(providerRequest,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="84.335" x="137.3823" y="237.019">agentConfig)</text></g><path d="M363,174.5513 L363,278.5513 L583,278.5513 L583,184.5513 L573,174.5513 L363,174.5513" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M573,174.5513 L573,184.5513 L583,184.5513 L573,174.5513" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="89.9844" x="369" y="192.6211">Agent Config:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="199.0562" x="369" y="208.4204">- primaryProvider: VENDOR_A</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="198.0596" x="369" y="224.2197">- fallbackProvider: VENDOR_B</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123.5571" x="369" y="240.019">- temperature: 0.7</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128.4893" x="369" y="255.8184">- maxTokens: 1024</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="83.5605" x="369" y="271.6177">- retryConfig</text><g class="message" data-participant-1="PO" data-participant-2="PO"><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="400.6943" y1="321.9458" y2="321.9458"/><line style="stroke:#000000;stroke-width:1;" x1="400.6943" x2="400.6943" y1="321.9458" y2="334.9458"/><line style="stroke:#000000;stroke-width:1;" x1="359.6943" x2="400.6943" y1="334.9458" y2="334.9458"/><polygon fill="#000000" points="369.6943,330.9458,359.6943,334.9458,369.6943,338.9458,365.6943,334.9458" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.8433" x="365.6943" y="301.417">Generate correlationId</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="79.5298" x="365.6943" y="317.2163">(for tracing)</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1436.752" x="5" y="363.8455"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1441.752" y1="363.8455" y2="363.8455"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1441.752" y1="366.8455" y2="366.8455"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="233.5083" x="606.6218" y="352.9458"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="215.0649" x="612.6218" y="370.0156">Primary Provider: VENDOR_A</text><path d="M15,393.7451 L271.3579,393.7451 L271.3579,401.5444 L261.3579,411.5444 L15,411.5444 L15,393.7451" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="2350.1211" style="stroke:#000000;stroke-width:1;" width="1370.8579" x="15" y="393.7451"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="211.3579" x="30" y="407.8149">Retry Loop (Max 3 attempts)</text><g class="message" data-participant-1="PO" data-participant-2="VA"><polygon fill="#000000" points="626.8198,445.1431,636.8198,449.1431,626.8198,453.1431,630.8198,449.1431" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="632.8198" y1="449.1431" y2="449.1431"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.8052" x="365.6943" y="428.6143">sendMessage(request)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.2163" x="365.6943" y="444.4136">Attempt #1</text></g><g class="message" data-participant-1="VA" data-participant-2="VA"><line style="stroke:#000000;stroke-width:1;" x1="638.8198" x2="680.8198" y1="494.7417" y2="494.7417"/><line style="stroke:#000000;stroke-width:1;" x1="680.8198" x2="680.8198" y1="494.7417" y2="507.7417"/><line style="stroke:#000000;stroke-width:1;" x1="639.8198" x2="680.8198" y1="507.7417" y2="507.7417"/><polygon fill="#000000" points="649.8198,503.7417,639.8198,507.7417,649.8198,511.7417,645.8198,507.7417" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="120.8467" x="645.8198" y="474.2129">Transform request</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="127.4038" x="645.8198" y="490.0122">to VendorA schema</text></g><g class="message" data-participant-1="VA" data-participant-2="A"><polygon fill="#000000" points="1043.1187,549.3403,1053.1187,553.3403,1043.1187,557.3403,1047.1187,553.3403" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="638.8198" x2="1049.1187" y1="553.3403" y2="553.3403"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="95.2339" x="645.8198" y="532.8115">POST /v1/chat</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="260.6729" x="645.8198" y="548.6108">{messages, temperature, max_tokens}</text></g><path d="M25,568.3403 L89.0493,568.3403 L89.0493,576.1396 L79.0493,586.1396 L25,586.1396 L25,568.3403" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="2168.5259" style="stroke:#000000;stroke-width:1;" width="1350.8579" x="25" y="568.3403"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.0493" x="40" y="582.4102">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="60.9082" x="104.0493" y="581.3994">[Success]</text><g class="message" data-participant-1="A" data-participant-2="VA"><polygon fill="#000000" points="649.8198,635.5376,639.8198,639.5376,649.8198,643.5376,645.8198,639.5376" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="643.8198" x2="1054.1187" y1="639.5376" y2="639.5376"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.604" x="655.8198" y="603.2095">200 OK</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="150.687" x="655.8198" y="619.0088">{outputText, tokensIn,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="149.2461" x="655.8198" y="634.8081">tokensOut, latencyMs}</text></g><g class="message" data-participant-1="VA" data-participant-2="VA"><line style="stroke:#000000;stroke-width:1;" x1="638.8198" x2="680.8198" y1="685.1362" y2="685.1362"/><line style="stroke:#000000;stroke-width:1;" x1="680.8198" x2="680.8198" y1="685.1362" y2="698.1362"/><line style="stroke:#000000;stroke-width:1;" x1="639.8198" x2="680.8198" y1="698.1362" y2="698.1362"/><polygon fill="#000000" points="649.8198,694.1362,639.8198,698.1362,649.8198,702.1362,645.8198,698.1362" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="170.5107" x="645.8198" y="664.6074">Validate response schema</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="126.6611" x="645.8198" y="680.4067">(defensive parsing)</text></g><g class="message" data-participant-1="VA" data-participant-2="VA"><line style="stroke:#000000;stroke-width:1;" x1="638.8198" x2="680.8198" y1="743.7349" y2="743.7349"/><line style="stroke:#000000;stroke-width:1;" x1="680.8198" x2="680.8198" y1="743.7349" y2="756.7349"/><line style="stroke:#000000;stroke-width:1;" x1="639.8198" x2="680.8198" y1="756.7349" y2="756.7349"/><polygon fill="#000000" points="649.8198,752.7349,639.8198,756.7349,649.8198,760.7349,645.8198,756.7349" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="84.6016" x="645.8198" y="723.2061">Transform to</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="178.2739" x="645.8198" y="739.0054">standard ProviderResponse</text></g><g class="message" data-participant-1="VA" data-participant-2="PO"><polygon fill="#000000" points="369.6943,782.5342,359.6943,786.5342,369.6943,790.5342,365.6943,786.5342" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="637.8198" y1="786.5342" y2="786.5342"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="116.2192" x="375.6943" y="781.8047">ProviderResponse</text></g><g class="message" data-participant-1="PO" data-participant-2="DB"><polygon fill="#000000" points="1290.2729,859.7314,1300.2729,863.7314,1290.2729,867.7314,1294.2729,863.7314" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="1296.2729" y1="863.7314" y2="863.7314"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.8662" x="365.6943" y="811.604">INSERT provider_calls</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123.481" x="365.6943" y="827.4033">(status: SUCCESS,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="142.6636" x="365.6943" y="843.2026">provider: VENDOR_A,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="109.9668" x="365.6943" y="859.002">isFallback: false)</text></g><g class="message" data-participant-1="PO" data-participant-2="MS"><polygon fill="#000000" points="141.3823,889.5308,131.3823,893.5308,141.3823,897.5308,137.3823,893.5308" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="135.3823" x2="357.6943" y1="893.5308" y2="893.5308"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="115.3179" x="147.3823" y="888.8013">Success response</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="25" x2="1375.8579" y1="902.5308" y2="902.5308"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162.6313" x="30" y="913.5898">[Timeout (30s exceeded)]</text><g class="message" data-participant-1="A" data-participant-2="VA"><polygon fill="#000000" points="649.8198,934.6987,639.8198,938.6987,649.8198,942.6987,645.8198,938.6987" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="643.8198" x2="1054.1187" y1="938.6987" y2="938.6987"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="53.2061" x="655.8198" y="933.9692">Timeout</text></g><g class="message" data-participant-1="VA" data-participant-2="PO"><polygon fill="#000000" points="369.6943,964.498,359.6943,968.498,369.6943,972.498,365.6943,968.498" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="637.8198" y1="968.498" y2="968.498"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="139.8896" x="375.6943" y="963.7686">ProviderTimeoutError</text></g><g class="message" data-participant-1="PO" data-participant-2="PO"><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="400.6943" y1="1014.0967" y2="1014.0967"/><line style="stroke:#000000;stroke-width:1;" x1="400.6943" x2="400.6943" y1="1014.0967" y2="1027.0967"/><line style="stroke:#000000;stroke-width:1;" x1="359.6943" x2="400.6943" y1="1027.0967" y2="1027.0967"/><polygon fill="#000000" points="369.6943,1023.0967,359.6943,1027.0967,369.6943,1031.0967,365.6943,1027.0967" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="193.7114" x="365.6943" y="993.5679">Wait with exponential backoff</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="266.1255" x="365.6943" y="1009.3672">Delay = 100ms * 2^(attempt-1) + jitter</text></g><g class="message" data-participant-1="PO" data-participant-2="VA"><polygon fill="#000000" points="626.8198,1068.6953,636.8198,1072.6953,626.8198,1076.6953,630.8198,1072.6953" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="632.8198" y1="1072.6953" y2="1072.6953"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.8052" x="365.6943" y="1052.1665">sendMessage(request)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.2163" x="365.6943" y="1067.9658">Attempt #2</text></g><path d="M35,1087.6953 L99.0493,1087.6953 L99.0493,1095.4946 L89.0493,1105.4946 L35,1105.4946 L35,1087.6953" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="718.3188" style="stroke:#000000;stroke-width:1;" width="1330.8579" x="35" y="1087.6953"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.0493" x="50" y="1101.7651">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="98.2158" x="114.0493" y="1100.7544">[Retry Success]</text><g class="message" data-participant-1="A" data-participant-2="VA"><polygon fill="#000000" points="649.8198,1123.2939,639.8198,1127.2939,649.8198,1131.2939,645.8198,1127.2939" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="643.8198" x2="1054.1187" y1="1127.2939" y2="1127.2939"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.604" x="655.8198" y="1122.5645">200 OK</text></g><g class="message" data-participant-1="VA" data-participant-2="PO"><polygon fill="#000000" points="369.6943,1153.0933,359.6943,1157.0933,369.6943,1161.0933,365.6943,1157.0933" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="637.8198" y1="1157.0933" y2="1157.0933"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="116.2192" x="375.6943" y="1152.3638">ProviderResponse</text></g><g class="message" data-participant-1="PO" data-participant-2="DB"><polygon fill="#000000" points="1290.2729,1214.4912,1300.2729,1218.4912,1290.2729,1222.4912,1294.2729,1218.4912" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="1296.2729" y1="1218.4912" y2="1218.4912"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.8662" x="365.6943" y="1182.1631">INSERT provider_calls</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123.481" x="365.6943" y="1197.9624">(status: SUCCESS,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128.2925" x="365.6943" y="1213.7617">attemptNumber: 2)</text></g><g class="message" data-participant-1="PO" data-participant-2="MS"><polygon fill="#000000" points="141.3823,1244.2905,131.3823,1248.2905,141.3823,1252.2905,137.3823,1248.2905" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="135.3823" x2="357.6943" y1="1248.2905" y2="1248.2905"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="115.3179" x="147.3823" y="1243.561">Success response</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="35" x2="1365.8579" y1="1257.2905" y2="1257.2905"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="138.7998" x="40" y="1268.3496">[Retry Timeout Again]</text><g class="message" data-participant-1="A" data-participant-2="VA"><polygon fill="#000000" points="649.8198,1289.4585,639.8198,1293.4585,649.8198,1297.4585,645.8198,1293.4585" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="643.8198" x2="1054.1187" y1="1293.4585" y2="1293.4585"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="53.2061" x="655.8198" y="1288.729">Timeout</text></g><g class="message" data-participant-1="VA" data-participant-2="PO"><polygon fill="#000000" points="369.6943,1319.2578,359.6943,1323.2578,369.6943,1327.2578,365.6943,1323.2578" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="637.8198" y1="1323.2578" y2="1323.2578"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="139.8896" x="375.6943" y="1318.5283">ProviderTimeoutError</text></g><g class="message" data-participant-1="PO" data-participant-2="PO"><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="400.6943" y1="1368.8564" y2="1368.8564"/><line style="stroke:#000000;stroke-width:1;" x1="400.6943" x2="400.6943" y1="1368.8564" y2="1381.8564"/><line style="stroke:#000000;stroke-width:1;" x1="359.6943" x2="400.6943" y1="1381.8564" y2="1381.8564"/><polygon fill="#000000" points="369.6943,1377.8564,359.6943,1381.8564,369.6943,1385.8564,365.6943,1381.8564" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="113.4517" x="365.6943" y="1348.3276">Wait with backoff</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.377" x="365.6943" y="1364.127">(200ms + jitter)</text></g><g class="message" data-participant-1="PO" data-participant-2="VA"><polygon fill="#000000" points="626.8198,1423.4551,636.8198,1427.4551,626.8198,1431.4551,630.8198,1427.4551" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="632.8198" y1="1427.4551" y2="1427.4551"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.8052" x="365.6943" y="1406.9263">sendMessage(request)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.2163" x="365.6943" y="1422.7256">Attempt #3</text></g><path d="M45,1442.4551 L109.0493,1442.4551 L109.0493,1450.2544 L99.0493,1460.2544 L45,1460.2544 L45,1442.4551" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="356.5591" style="stroke:#000000;stroke-width:1;" width="1310.8579" x="45" y="1442.4551"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.0493" x="60" y="1456.5249">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131.8335" x="124.0493" y="1455.5142">[Final Retry Success]</text><g class="message" data-participant-1="A" data-participant-2="VA"><polygon fill="#000000" points="649.8198,1478.0537,639.8198,1482.0537,649.8198,1486.0537,645.8198,1482.0537" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="643.8198" x2="1054.1187" y1="1482.0537" y2="1482.0537"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.604" x="655.8198" y="1477.3242">200 OK</text></g><g class="message" data-participant-1="VA" data-participant-2="PO"><polygon fill="#000000" points="369.6943,1507.853,359.6943,1511.853,369.6943,1515.853,365.6943,1511.853" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="637.8198" y1="1511.853" y2="1511.853"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="116.2192" x="375.6943" y="1507.1235">ProviderResponse</text></g><g class="message" data-participant-1="PO" data-participant-2="DB"><polygon fill="#000000" points="1290.2729,1569.251,1300.2729,1573.251,1290.2729,1577.251,1294.2729,1573.251" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="1296.2729" y1="1573.251" y2="1573.251"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.8662" x="365.6943" y="1536.9229">INSERT provider_calls</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123.481" x="365.6943" y="1552.7222">(status: SUCCESS,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128.2925" x="365.6943" y="1568.5215">attemptNumber: 3)</text></g><g class="message" data-participant-1="PO" data-participant-2="MS"><polygon fill="#000000" points="141.3823,1599.0503,131.3823,1603.0503,141.3823,1607.0503,137.3823,1603.0503" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="135.3823" x2="357.6943" y1="1603.0503" y2="1603.0503"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="115.3179" x="147.3823" y="1598.3208">Success response</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="45" x2="1355.8579" y1="1612.0503" y2="1612.0503"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116.5313" x="50" y="1623.1094">[All Retries Failed]</text><g class="message" data-participant-1="A" data-participant-2="VA"><polygon fill="#000000" points="649.8198,1644.2183,639.8198,1648.2183,649.8198,1652.2183,645.8198,1648.2183" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="643.8198" x2="1054.1187" y1="1648.2183" y2="1648.2183"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="53.2061" x="655.8198" y="1643.4888">Timeout</text></g><g class="message" data-participant-1="VA" data-participant-2="PO"><polygon fill="#000000" points="369.6943,1674.0176,359.6943,1678.0176,369.6943,1682.0176,365.6943,1678.0176" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="637.8198" y1="1678.0176" y2="1678.0176"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="139.8896" x="375.6943" y="1673.2881">ProviderTimeoutError</text></g><g class="message" data-participant-1="PO" data-participant-2="DB"><polygon fill="#000000" points="1290.2729,1735.4155,1300.2729,1739.4155,1290.2729,1743.4155,1294.2729,1739.4155" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="1296.2729" y1="1739.4155" y2="1739.4155"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.8662" x="365.6943" y="1703.0874">INSERT provider_calls</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="121.3481" x="365.6943" y="1718.8867">(status: TIMEOUT,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128.2925" x="365.6943" y="1734.686">attemptNumber: 3)</text></g><path d="M363,1752.4155 L363,1793.4155 L565,1793.4155 L565,1762.4155 L555,1752.4155 L363,1752.4155" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M555,1752.4155 L555,1762.4155 L565,1762.4155 L555,1752.4155" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="181.416" x="369" y="1770.4854">Primary provider exhausted</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="161.7319" x="369" y="1786.2847">Try fallback if configured</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="25" x2="1375.8579" y1="1814.0142" y2="1814.0142"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162.8999" x="30" y="1825.0732">[HTTP 500 (Server Error)]</text><g class="message" data-participant-1="A" data-participant-2="VA"><polygon fill="#000000" points="649.8198,1846.1821,639.8198,1850.1821,649.8198,1854.1821,645.8198,1850.1821" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="643.8198" x2="1054.1187" y1="1850.1821" y2="1850.1821"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="166.1372" x="655.8198" y="1845.4526">500 Internal Server Error</text></g><g class="message" data-participant-1="VA" data-participant-2="PO"><polygon fill="#000000" points="369.6943,1875.9814,359.6943,1879.9814,369.6943,1883.9814,365.6943,1879.9814" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="637.8198" y1="1879.9814" y2="1879.9814"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="86.6836" x="375.6943" y="1875.252">ProviderError</text></g><g class="message" data-participant-1="PO" data-participant-2="PO"><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="400.6943" y1="1909.7808" y2="1909.7808"/><line style="stroke:#000000;stroke-width:1;" x1="400.6943" x2="400.6943" y1="1909.7808" y2="1922.7808"/><line style="stroke:#000000;stroke-width:1;" x1="359.6943" x2="400.6943" y1="1922.7808" y2="1922.7808"/><polygon fill="#000000" points="369.6943,1918.7808,359.6943,1922.7808,369.6943,1926.7808,365.6943,1922.7808" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="113.4517" x="365.6943" y="1905.0513">Wait with backoff</text></g><g class="message" data-participant-1="PO" data-participant-2="VA"><polygon fill="#000000" points="626.8198,1964.3794,636.8198,1968.3794,626.8198,1972.3794,630.8198,1968.3794" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="632.8198" y1="1968.3794" y2="1968.3794"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.8052" x="365.6943" y="1947.8506">sendMessage(request)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.2163" x="365.6943" y="1963.6499">Attempt #2</text></g><path d="M45,1983.3794 L109.0493,1983.3794 L109.0493,1991.1787 L99.0493,2001.1787 L45,2001.1787 L45,1983.3794" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="286.3618" style="stroke:#000000;stroke-width:1;" width="1310.8579" x="45" y="1983.3794"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.0493" x="60" y="1997.4492">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105.397" x="124.0493" y="1996.4385">[Retry succeeds]</text><g class="message" data-participant-1="A" data-participant-2="VA"><polygon fill="#000000" points="649.8198,2018.978,639.8198,2022.978,649.8198,2026.978,645.8198,2022.978" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="643.8198" x2="1054.1187" y1="2022.978" y2="2022.978"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.604" x="655.8198" y="2018.2485">200 OK</text></g><g class="message" data-participant-1="VA" data-participant-2="PO"><polygon fill="#000000" points="369.6943,2048.7773,359.6943,2052.7773,369.6943,2056.7773,365.6943,2052.7773" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="637.8198" y1="2052.7773" y2="2052.7773"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="116.2192" x="375.6943" y="2048.0479">ProviderResponse</text></g><g class="message" data-participant-1="PO" data-participant-2="DB"><polygon fill="#000000" points="1290.2729,2110.1753,1300.2729,2114.1753,1290.2729,2118.1753,1294.2729,2114.1753" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="1296.2729" y1="2114.1753" y2="2114.1753"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.8662" x="365.6943" y="2077.8472">INSERT provider_calls</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123.481" x="365.6943" y="2093.6465">(status: SUCCESS,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128.2925" x="365.6943" y="2109.4458">attemptNumber: 2)</text></g><g class="message" data-participant-1="PO" data-participant-2="MS"><polygon fill="#000000" points="141.3823,2139.9746,131.3823,2143.9746,141.3823,2147.9746,137.3823,2143.9746" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="135.3823" x2="357.6943" y1="2143.9746" y2="2143.9746"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="115.3179" x="147.3823" y="2139.2451">Success response</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="45" x2="1355.8579" y1="2152.9746" y2="2152.9746"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="75.3027" x="50" y="2164.0337">[Retry fails]</text><g class="message" data-participant-1="A" data-participant-2="VA"><polygon fill="#000000" points="649.8198,2185.1426,639.8198,2189.1426,649.8198,2193.1426,645.8198,2189.1426" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="643.8198" x2="1054.1187" y1="2189.1426" y2="2189.1426"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="24.7939" x="655.8198" y="2184.4131">500</text></g><g class="message" data-participant-1="VA" data-participant-2="PO"><polygon fill="#000000" points="369.6943,2214.9419,359.6943,2218.9419,369.6943,2222.9419,365.6943,2218.9419" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="637.8198" y1="2218.9419" y2="2218.9419"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="86.6836" x="375.6943" y="2214.2124">ProviderError</text></g><g class="message" data-participant-1="PO" data-participant-2="PO"><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="400.6943" y1="2248.7412" y2="2248.7412"/><line style="stroke:#000000;stroke-width:1;" x1="400.6943" x2="400.6943" y1="2248.7412" y2="2261.7412"/><line style="stroke:#000000;stroke-width:1;" x1="359.6943" x2="400.6943" y1="2261.7412" y2="2261.7412"/><polygon fill="#000000" points="369.6943,2257.7412,359.6943,2261.7412,369.6943,2265.7412,365.6943,2261.7412" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="169.5586" x="365.6943" y="2244.0117">Continue to attempt #3...</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="25" x2="1375.8579" y1="2277.7412" y2="2277.7412"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165.3652" x="30" y="2288.8003">[HTTP 429 (Rate Limited)]</text><g class="message" data-participant-1="A" data-participant-2="VA"><polygon fill="#000000" points="649.8198,2325.7085,639.8198,2329.7085,649.8198,2333.7085,645.8198,2329.7085" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="643.8198" x2="1054.1187" y1="2329.7085" y2="2329.7085"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="156.5015" x="655.8198" y="2309.1797">429 Too Many Requests</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="135.8716" x="655.8198" y="2324.979">Retry-After: 5000ms</text></g><g class="message" data-participant-1="VA" data-participant-2="PO"><polygon fill="#000000" points="369.6943,2371.3071,359.6943,2375.3071,369.6943,2379.3071,365.6943,2375.3071" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="637.8198" y1="2375.3071" y2="2375.3071"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="94.6055" x="375.6943" y="2354.7783">RateLimitError</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="141.2925" x="375.6943" y="2370.5776">{retryAfterMs: 5000}</text></g><g class="message" data-participant-1="PO" data-participant-2="PO"><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="400.6943" y1="2420.9058" y2="2420.9058"/><line style="stroke:#000000;stroke-width:1;" x1="400.6943" x2="400.6943" y1="2420.9058" y2="2433.9058"/><line style="stroke:#000000;stroke-width:1;" x1="359.6943" x2="400.6943" y1="2433.9058" y2="2433.9058"/><polygon fill="#000000" points="369.6943,2429.9058,359.6943,2433.9058,369.6943,2437.9058,365.6943,2433.9058" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="137.7568" x="365.6943" y="2400.377">Wait for retryAfterMs</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.9209" x="365.6943" y="2416.1763">(5 seconds)</text></g><g class="message" data-participant-1="PO" data-participant-2="VA"><polygon fill="#000000" points="626.8198,2475.5044,636.8198,2479.5044,626.8198,2483.5044,630.8198,2479.5044" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="632.8198" y1="2479.5044" y2="2479.5044"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.8052" x="365.6943" y="2458.9756">sendMessage(request)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.2163" x="365.6943" y="2474.7749">Attempt #2</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="25" x2="1375.8579" y1="2488.5044" y2="2488.5044"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="164.6187" x="30" y="2499.5635">[HTTP 400 (Bad Request)]</text><g class="message" data-participant-1="A" data-participant-2="VA"><polygon fill="#000000" points="649.8198,2536.4717,639.8198,2540.4717,649.8198,2544.4717,645.8198,2540.4717" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="643.8198" x2="1054.1187" y1="2540.4717" y2="2540.4717"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="111.5029" x="655.8198" y="2519.9429">400 Bad Request</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="195.0317" x="655.8198" y="2535.7422">{error: "Invalid parameters"}</text></g><g class="message" data-participant-1="VA" data-participant-2="PO"><polygon fill="#000000" points="369.6943,2566.271,359.6943,2570.271,369.6943,2574.271,365.6943,2570.271" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="637.8198" y1="2570.271" y2="2570.271"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="97.2969" x="375.6943" y="2565.5415">ValidationError</text></g><path d="M363,2583.271 L363,2624.271 L544,2624.271 L544,2593.271 L534,2583.271 L363,2583.271" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M534,2583.271 L534,2593.271 L544,2593.271 L534,2583.271" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="142.8159" x="369" y="2601.3408">Don't retry 4xx errors</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="160.7925" x="369" y="2617.1401">(won't succeed on retry)</text><g class="message" data-participant-1="PO" data-participant-2="DB"><polygon fill="#000000" points="1290.2729,2679.2676,1300.2729,2683.2676,1290.2729,2687.2676,1294.2729,2683.2676" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="1296.2729" y1="2683.2676" y2="2683.2676"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.8662" x="365.6943" y="2646.9395">INSERT provider_calls</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="108.2339" x="365.6943" y="2662.7388">(status: FAILED,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="230.0581" x="365.6943" y="2678.5381">errorCode: "VALIDATION_ERROR")</text></g><g class="message" data-participant-1="PO" data-participant-2="MS"><polygon fill="#000000" points="141.3823,2724.8662,131.3823,2728.8662,141.3823,2732.8662,137.3823,2728.8662" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="135.3823" x2="357.6943" y1="2728.8662" y2="2728.8662"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="136.3794" x="147.3823" y="2708.3374">Error (no fallback for</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="112.874" x="147.3823" y="2724.1367">validation errors)</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1436.752" x="5" y="2771.7659"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1441.752" y1="2771.7659" y2="2771.7659"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1441.752" y1="2774.7659" y2="2774.7659"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="235.6919" x="605.53" y="2760.8662"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="217.2485" x="611.53" y="2777.936">Fallback Provider: VENDOR_B</text><path d="M245,2799.6655 L245,2872.6655 L472,2872.6655 L472,2809.6655 L462,2799.6655 L245,2799.6655" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M462,2799.6655 L462,2809.6655 L472,2809.6655 L462,2799.6655" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="135.5415" x="251" y="2817.7354">Fallback triggered if:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="206.3496" x="251" y="2833.5347">1. Primary exhausted all retries</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="201.6016" x="251" y="2849.334">2. Fallback configured in agent</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="194.5112" x="251" y="2865.1333">3. Error is retryable (not 4xx)</text><g class="message" data-participant-1="PO" data-participant-2="VB"><polygon fill="#000000" points="819.0938,2906.5618,829.0938,2910.5618,819.0938,2914.5618,823.0938,2910.5618" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="825.0938" y1="2910.5618" y2="2910.5618"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.8052" x="365.6943" y="2905.8323">sendMessage(request)</text></g><path d="M836,2882.8628 L836,2923.8628 L964,2923.8628 L964,2892.8628 L954,2882.8628 L836,2882.8628" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M954,2882.8628 L954,2892.8628 L964,2892.8628 L954,2882.8628" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.7769" x="842" y="2900.9326">Same retry logic</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="70.0591" x="842" y="2916.7319">as primary</text><g class="message" data-participant-1="VB" data-participant-2="VB"><line style="stroke:#000000;stroke-width:1;" x1="831.0938" x2="873.0938" y1="2951.2607" y2="2951.2607"/><line style="stroke:#000000;stroke-width:1;" x1="873.0938" x2="873.0938" y1="2951.2607" y2="2964.2607"/><line style="stroke:#000000;stroke-width:1;" x1="832.0938" x2="873.0938" y1="2964.2607" y2="2964.2607"/><polygon fill="#000000" points="842.0938,2960.2607,832.0938,2964.2607,842.0938,2968.2607,838.0938,2964.2607" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="199.0181" x="838.0938" y="2946.5313">Transform to VendorB schema</text></g><g class="message" data-participant-1="VB" data-participant-2="B"><polygon fill="#000000" points="1175.4937,3005.8594,1185.4937,3009.8594,1175.4937,3013.8594,1179.4937,3009.8594" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="831.0938" x2="1181.4937" y1="3009.8594" y2="3009.8594"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="131.6631" x="838.0938" y="2989.3306">POST /v1/messages</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="219.2671" x="838.0938" y="3005.1299">{model, messages, max_tokens}</text></g><path d="M45,3024.8594 L109.0493,3024.8594 L109.0493,3032.6587 L99.0493,3042.6587 L45,3042.6587 L45,3024.8594" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="499.355" style="stroke:#000000;stroke-width:1;" width="1310.8579" x="45" y="3024.8594"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.0493" x="60" y="3038.9292">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="60.9082" x="124.0493" y="3037.9185">[Success]</text><g class="message" data-participant-1="B" data-participant-2="VB"><polygon fill="#000000" points="842.0938,3092.0566,832.0938,3096.0566,842.0938,3100.0566,838.0938,3096.0566" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="836.0938" x2="1186.4937" y1="3096.0566" y2="3096.0566"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.604" x="848.0938" y="3059.7285">200 OK</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="188.6841" x="848.0938" y="3075.5278">{choices[].message.content,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="136.5889" x="848.0938" y="3091.3271">usage.input_tokens}</text></g><g class="message" data-participant-1="VB" data-participant-2="VB"><line style="stroke:#000000;stroke-width:1;" x1="831.0938" x2="873.0938" y1="3125.856" y2="3125.856"/><line style="stroke:#000000;stroke-width:1;" x1="873.0938" x2="873.0938" y1="3125.856" y2="3138.856"/><line style="stroke:#000000;stroke-width:1;" x1="832.0938" x2="873.0938" y1="3138.856" y2="3138.856"/><polygon fill="#000000" points="842.0938,3134.856,832.0938,3138.856,842.0938,3142.856,838.0938,3138.856" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="170.5107" x="838.0938" y="3121.1265">Validate response schema</text></g><g class="message" data-participant-1="VB" data-participant-2="VB"><line style="stroke:#000000;stroke-width:1;" x1="831.0938" x2="873.0938" y1="3168.6553" y2="3168.6553"/><line style="stroke:#000000;stroke-width:1;" x1="873.0938" x2="873.0938" y1="3168.6553" y2="3181.6553"/><line style="stroke:#000000;stroke-width:1;" x1="832.0938" x2="873.0938" y1="3181.6553" y2="3181.6553"/><polygon fill="#000000" points="842.0938,3177.6553,832.0938,3181.6553,842.0938,3185.6553,838.0938,3181.6553" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="210.0249" x="838.0938" y="3163.9258">Transform to standard response</text></g><g class="message" data-participant-1="VB" data-participant-2="PO"><polygon fill="#000000" points="369.6943,3207.4546,359.6943,3211.4546,369.6943,3215.4546,365.6943,3211.4546" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="830.0938" y1="3211.4546" y2="3211.4546"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="116.2192" x="375.6943" y="3206.7251">ProviderResponse</text></g><g class="message" data-participant-1="PO" data-participant-2="DB"><polygon fill="#000000" points="1290.2729,3284.6519,1300.2729,3288.6519,1290.2729,3292.6519,1294.2729,3288.6519" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="1296.2729" y1="3288.6519" y2="3288.6519"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.8662" x="365.6943" y="3236.5244">INSERT provider_calls</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123.481" x="365.6943" y="3252.3237">(status: SUCCESS,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="142.689" x="365.6943" y="3268.123">provider: VENDOR_B,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="106.1455" x="365.6943" y="3283.9224">isFallback: true)</text></g><g class="message" data-participant-1="PO" data-participant-2="MS"><polygon fill="#000000" points="141.3823,3330.2505,131.3823,3334.2505,141.3823,3338.2505,137.3823,3334.2505" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="135.3823" x2="357.6943" y1="3334.2505" y2="3334.2505"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="115.3179" x="147.3823" y="3313.7217">Success response</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="199.437" x="147.3823" y="3329.521">(metadata.usedFallback: true)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="45" x2="1355.8579" y1="3343.2505" y2="3343.2505"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121.6123" x="50" y="3354.3096">[Fallback also fails]</text><g class="message" data-participant-1="B" data-participant-2="VB"><polygon fill="#000000" points="842.0938,3375.4185,832.0938,3379.4185,842.0938,3383.4185,838.0938,3379.4185" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="836.0938" x2="1186.4937" y1="3379.4185" y2="3379.4185"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="32.7539" x="848.0938" y="3374.689">Error</text></g><g class="message" data-participant-1="VB" data-participant-2="PO"><polygon fill="#000000" points="369.6943,3405.2178,359.6943,3409.2178,369.6943,3413.2178,365.6943,3409.2178" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="363.6943" x2="830.0938" y1="3409.2178" y2="3409.2178"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="86.6836" x="375.6943" y="3404.4883">ProviderError</text></g><g class="message" data-participant-1="PO" data-participant-2="DB"><polygon fill="#000000" points="1290.2729,3482.415,1300.2729,3486.415,1290.2729,3490.415,1294.2729,3486.415" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="358.6943" x2="1296.2729" y1="3486.415" y2="3486.415"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.8662" x="365.6943" y="3434.2876">INSERT provider_calls</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="108.2339" x="365.6943" y="3450.0869">(status: FAILED,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="142.689" x="365.6943" y="3465.8862">provider: VENDOR_B,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="106.1455" x="365.6943" y="3481.6855">isFallback: true)</text></g><g class="message" data-participant-1="PO" data-participant-2="MS"><polygon fill="#000000" points="141.3823,3512.2144,131.3823,3516.2144,141.3823,3520.2144,137.3823,3516.2144" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="135.3823" x2="357.6943" y1="3516.2144" y2="3516.2144"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="201.6143" x="147.3823" y="3511.4849">Error (all providers exhausted)</text></g><path d="M1167,3536.2144 L1167,3688.2144 L1436,3688.2144 L1436,3546.2144 L1426,3536.2144 L1167,3536.2144" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1426,3536.2144 L1426,3546.2144 L1436,3546.2144 L1426,3536.2144" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="150.5093" x="1173" y="3554.2842">Provider Calls Table:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="172.415" x="1173" y="3570.0835">Records all attempts with:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="225.6211" x="1173" y="3585.8828">- correlationId (trace all attempts)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="233.5112" x="1173" y="3601.6821">- provider (VENDOR_A/VENDOR_B)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.9849" x="1173" y="3617.4814">- isFallback (true/false)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="173.894" x="1173" y="3633.2808">- attemptNumber (1, 2, 3)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="248.752" x="1173" y="3649.0801">- status (SUCCESS/FAILED/TIMEOUT)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="217.915" x="1173" y="3664.8794">- tokensIn, tokensOut, latencyMs</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="193.0195" x="1173" y="3680.6787">- requestBody, responseBody</text><path d="M191,3698.4082 L191,3881.4082 L526,3881.4082 L526,3708.4082 L516,3698.4082 L191,3698.4082" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M516,3698.4082 L516,3708.4082 L526,3708.4082 L516,3698.4082" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111.7314" x="197" y="3716.478">Retry Strategy:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="119.8628" x="197" y="3732.2773">&#8226; Max attempts: 3</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="314.1265" x="197" y="3748.0767">&#8226; Backoff: Exponential (100ms, 200ms, 400ms)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="151.0933" x="197" y="3763.876">&#8226; Jitter: &#177;30% random</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="305.2842" x="197" y="3779.6753">&#8226; Retryable: 500, 502, 503, 504, 429, timeout</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="235.3901" x="197" y="3795.4746">&#8226; Not retryable: 400, 401, 403, 404</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="197" y="3811.2739">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="169.0508" x="197" y="3827.0732">Timeout Configuration:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="209.4346" x="197" y="3842.8726">&#8226; VendorA: 30s request timeout</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="209.46" x="197" y="3858.6719">&#8226; VendorB: 15s request timeout</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="146.7197" x="197" y="3874.4712">&#8226; Connect: 3s for both</text><!--SRC=[hLZzRY8t4Fz_dsAQKrL82U4Zfwf8gSG6qjA6G86ZVpHjvEmQy1tOTEtD9QfEwhFq3VeAVPG-IMUytx3vk2Y9jC1wFFRCRsOyFtzXLdp3ORjcGZhwWv1R5h0Dt33lmp9GeVJFr5e5yEQyJ_-EOuHPSnW7wbRuF81HuAsuDW4pA7G44sw2UxXGI-71Hs5MSCxMQzBbEAZN24zicJHmCEHQioM7AGzkXSSFW6aOJeiooHfNCh-85HsFYg9pBdqLTAzarsTRmoEXURTCoDqHSairGNSyiEFbEj9Xr_6POJTCSzolqcOPyEdF5tQevphEwIdq9Nbah0HEFprrdE4KZhv30pgWKLViXyesjdN2_mZHqjgLnBVId2cv4Ckg8vNX48ZboZXTUW_HGCSvWcqWDYouJvpLWNd_iZUQN7TnR14xVs_GnK73DrkEBWq3te56_HjyjM5tC_M1Izs1PgDrWcy2mZDQpC7j0ct4SSQZn8RlkIGT73mL17pDZ51ou5_9oWB30G7pXCJjan_6qJvXVwFMBHHhspHyr1OgGtO7RM26zcaqAW7yYrQUTulU2oAlLH7QI1pUD2FvUJUHdmLCQjpL1cBfAsaK971h3B0Doy_1AUFHT0R7jyrZRyLG_CzDj9okvNrN8wzT6-ksJv42jZOm3JqFnUrl-aETyKPQZGQCVa9rAZJRqCpudK65Tlv0rcXNz7KKublq9vVU_H0L9teoW-PiBNnoVS3rLacCmCW8TBxF5wX2t69Qiq1R2FRdPmunwafgmwJF0Z_5Pn9hBSoCKT-JIOKYV7fk1mQNq_va1abWNtiOYnhtXWkP40Di-kxih3-Tei7RlOZ0bq8dbQD3OQnvjRW8hZASTX8tfpw8X3ZAmqniEBeOAks61dxdSUvplre2I2pucA6nI3y8LB1hBCdzmeI9wXs_mtrWXWgsjZLKBHPNieUPSG-dc5IDZOP3QFrUYUFwg5c5h-6zm5zxYfyHvQri3WLTb3wxeLSMVeN1Po7xKdHZGo_3pGr1tAhkgtmKonJFoBW4rUwIpgjo4tS1_InG7m8s1RFIiYWcg5NBfZu3kdPn7i5tBYH6pSCWFWdaKs3kohu2dkrggTOd8KrXxQuZamNNs2o8DVSViRaCsSz6z_Cidms6_T6xMQdbUsgpSnhKWhgKlNNZKp1P3kl5YeNQb5WzGx7a00Unm1EMJc4ySVP5qvDvvwMJ_vvLnXzcip6ynV2fKFk5cx1EAYkD93IG6EKKc7dXnuhbCwfad4olLF0qHHdtNwdYlNx1Usvob9Ix1MR4GtOXE4yPLSIgY0PsTKR8aEFndtHPM9NgzVfZKNFI-XOg4-ewBiH6cF83bOHcIi6GoNk8ErhqbRNegBimv1RSF5RHiZ0YxLQvtJpsIRO7jTE6EfhuwS7eehOpBuy8lSMOmjpnTVNb1spE0PGsBlCJkqhjHvcS29h0oPGE70paBNLjO3aMnntgWqzbFeXxEsocTvBfmGBJK_8h4vaE9tTtO5VC_5lvQCVZJ04b8z6girT2Nj3AdNS75_qUXhvTz4pvI2WEvjsBGQyx6umkh_kJoMXoKDx0MVkW8bLMwnQ4-ctgWTYKQAis9Eq3AKNI8Uvp2jTo2kiiHJKB7PKAur6pN78ierXKEqwpdjRaj1HZQLbR_-2PvBJgsJfP2GOXmJ8qfrsFRH0wyYcxGNwC1Xd2eRh7ckPkUT3bE1wM1eoE6CmrSMciAZfXUeupTnD5-HuU4cwQS9b8pCtnc8J049T1bDR8NL9AKs0nkmp6ZMBRpR4NRwMGkEjVVwl7Ekhe7QGhn5r3-rj8f3T5PfJj_27siYDMC33bA8MAENUVw5vVXPEuEvp4127FST87IZhgnZHdT4TG3pNtz-RRmfB65_8SbIlvcTUpEbvYRQv4l21dNsXfdBUKAOa6dMLGDShHB05xhdDuc5uQdT5cO4QPqZayT2POdmDVsxHB-Bxj4-X-et2n01MwK-05oQgz18arLn8AUPnOGyEPEQGWvCSnepo2mc4DbMODMZNgx8uWSXIsI55C74SEEuxRGP98EJkKKNPxUM9JsrN-VIqD2VgLAmg56dLu63V_TDN5b_VadF_- -XleAYGn5njF-ywDMYX48iSuAvPXrg0LVPpGHzMA_sZ9IWV-_QVT-18mgtoriGEJf6RPexM6ZnOzslGugT5PZlR5RJV9NogJrJbxrj4wJNgqwN7Ye1a9IpkB2wQ5Bx4cldD1GnewyL5XYRYGTQ3vjbm0rKhkOPriQtlYtoYpodpwFm00]--></g></svg>